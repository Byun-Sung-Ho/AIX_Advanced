import speech_recognition as sr
import os
import time
import pyaudio
import wave
import google.generativeai as genai
import openai
import os

def getAudio():
    r = sr.Recognizer()
    with sr.Microphone() as source:
        audio = r.listen(source)
        said = " "

        try:
            said = r.recognize_google(audio, language='ko-KR')
            print(said)
        except Exception as e:
            pass
            # print("Exception: " + str(e))
    return said

def ver1():
    while True:
        text = getAudio()
        with open('memo.txt', 'a') as f:
            f.write(str(text)+'\n')

        if "이상입니다" in text:
            break

        time.sleep(0.05)
def ver2():
    # 오디오 녹음 설정
    FORMAT = pyaudio.paInt16  # 16비트 PCM 형식으로 녹음
    CHANNELS = 1  # 단일 채널(모노)로 녹음
    RATE = 44100  # 샘플링 속도(Hz)
    CHUNK = 1024  # 버퍼 크기

    # 오디오 녹음 시간 설정 (초)
    RECORD_SECONDS = 10
    # 저장할 오디오 파일 이름
    WAVE_OUTPUT_FILENAME = "output.wav"

    # PyAudio 객체 생성
    audio = pyaudio.PyAudio()

    # 마이크 입력 설정
    stream = audio.open(format=FORMAT, channels=CHANNELS,
                        rate=RATE, input=True,
                        frames_per_buffer=CHUNK)

    print("녹음 시작...")

    frames = []

    # 마이크로부터 오디오 데이터 읽기
    for i in range(0, int(RATE / CHUNK * RECORD_SECONDS)):
        data = stream.read(CHUNK)
        frames.append(data)

    print("녹음 종료.")

    # 스트림 닫기
    stream.stop_stream()
    stream.close()
    audio.terminate()

    # 오디오 데이터를 WAV 파일로 저장
    with wave.open(WAVE_OUTPUT_FILENAME, 'wb') as wf:
        wf.setnchannels(CHANNELS)
        wf.setsampwidth(audio.get_sample_size(FORMAT))
        wf.setframerate(RATE)
        wf.writeframes(b''.join(frames))

    print("오디오 파일 저장 완료:", WAVE_OUTPUT_FILENAME)

    audio_file_path = "output.wav"
    recognizer = sr.Recognizer()

    with sr.AudioFile(audio_file_path) as source:
        audio_data = recognizer.listen(source)

        try:
            text = recognizer.recognize_google(audio_data, language="ko-KR")
            with open("memo.txt", 'w') as f:
                f.write(str(text)+'\n')
            return text
            # print(text)
        except Exception as e:
            print("Exception: " + str(e))

def generate_feedback(opinion, evaluation_criteria, category):
    if category == "입론":
        template = """
======= 입론 피드백 =======
[용어 정의가 명확한가] : {}

[주장의 근거가 논리적이고 타당한가]: {}

[논거가 객관적이고 신뢰할 수 있는가]: {}
========================
"""

    elif category == "변론":
        template = """
======= 변론 피드백 =======
[최종 변론이 명확하고 간결한가]: {}

[핵심 포인트가 잘 전달되었는가]: {}

[주장이 타당하고 객관적으로 보이는가]: {}
========================
"""
    # 평가 기준과 의견을 결합하여 모델에 전달
    prompt = f"평가 기준: {evaluation_criteria}\n의견: {opinion}"
    # 각 의견에 대한 피드백 생성
    response = model.generate_content(prompt, safety_settings={'HARASSMENT':'block_none'})
    # 피드백 문자열 반환
    feedback = response.text
    return template.format(feedback, feedback, feedback)

criteria = "[용어 정의가 명확한가]\n[주장의 근거가 논리적이고 타당한가]\n[논거가 객관적이고 신뢰할 수 있는가]"

final_argument_criteria = "[최종 변론이 명확하고 간결한가]\n[핵심 포인트가 잘 전달되었는가]\n[주장이 타당하고 객관적으로 보이는가]"

genai.configure(api_key=os.getenv("GOOGLE_API_KEY"))
model = genai.GenerativeModel('gemini-pro')




# few-shot 학습용 데이터
few_shot_samples = [

# 입론 샘플
    "input: 인공지능 기술은 사회적 발전과 혁신에 긍정적인 영향을 미치고 있습니다. 개인정보 보호와 노동시장의 변화는 기술 발전과 함께 발생하는 당연한 부작용일 뿐입니다. 이러한 문제들에 대한 대응은 기술 발전의 진보와 함께 이루어질 것이며, 규제보다는 기술적 해결책을 우선적으로 고려해야 합니다. 또한 인공지능 기술의 발전은 노동시장에서 일자리의 변화를 가져올 수 있지만, 새로운 일자리 창출과 함께 사회 전반에 긍정적인 영향을 미칠 것으로 기대됩니다 ",
    "output:======= 입론 피드백 =======\n\n[용어 정의가 명확한가] :\n개인정보 보호와 노동시장 변화에 대한 당연한 부작용으로 언급되었으며, 규제 대신 기술적 해결책을 우선 고려해야 한다는 주장이 명확하게 제시되었습니다.\n\n[주장의 근거가 논리적이고 타당한가]:\n공유된 주장은 인공지능 기술 발전이 노동시장에서의 일자리 변화를 초래할 수 있지만, 새로운 일자리 창출과 함께 사회적 혁신과 발전을 이끌 것으로 예상됩니다.\n\n[논거가 객관적이고 신뢰할 수 있는가]: \n주장은 주로 전반적인 사회적 혁신과 발전에 대한 예상에 기반하고 있으나, 구체적인 예시나 연구 결과를 인용하여 객관성과 신뢰성을 강화할 필요가 있습니다.\n========================"


    #반론 샘플
    "input:  인공지능 기술이 사회적 발전과 혁신에 부정적인 영향을 미칠 수 있다는 관점은 다양한 측면에서 제기됩니다. 먼저, 인공지능 기술의 발전은 일부 직업을 자동화하고 일자리를 감소시킬 수 있습니다. 특히, 저숙련 노동자나 노동 집약적인 산업에서는 이러한 자동화로 인한 일자리 감소가 경제적 불안정성을 야기할 수 있습니다. 이는 사회적으로 취약한 계층에 대한 경제적 어려움을 더욱 악화시킬 수 있습니다."
    "output:======= 반론 피드백 =======\n\n[반박의 논리가 명확한가]:\n반박은 명확하게 제기되었으며, 인공지능 기술이 경제적 불안정성을 야기할 수 있다는 관점에 대해 직접적으로 대응하고 있습니다.\n\n[주장에 대한 정보나 근거가 충분한가]:\n반박은 경제적 불안정성과 관련하여 자동화로 인한 일자리 감소가 어떤 영향을 미칠 수 있는지에 대한 충분한 정보를 제공하고 있습니다.\n\n[반박이 원문의 핵심에 집중하고 있는가]:\n반박은 인공지능 기술이 사회적 발전과 혁신에 부정적인 영향을 미칠 수 있다는 원문의 주장에 집중하고 있으며, 특히 경제적 불안정성 측면에 대해 반박하고 있습니다.\n========================"



    # 변론 샘플
    "input:  인공지능 기술은 일부 사람들에게는 사회적 불안과 경제적 어려움을 가져올 수 있다는 우려가 있습니다. 그러나 이러한 우려는 적절한 규제와 기술적 대책을 통해 해결될 수 있습니다. 더불어 인공지능 기술은 혁신과 발전을 이끌어내는 동시에 새로운 경제적 기회와 사회적 이점을 제공할 수 있습니다. 따라서 우리는 이러한 기술의 잠재력을 최대한 발휘하면서도 그에 따른 부정적인 영향을 줄이기 위해 노력해야 합니다."
    "output: ======= 변론 피드백 =======\n\n[최종 변론이 명확하고 간결한가]:\n최종 변론은 인공지능 기술의 부정적 영향과 그에 대한 해결책을 명확하고 간결하게 요약하고 있습니다. 문장 구조도 간결하고 이해하기 쉽습니다.\n\n[핵심 포인트가 잘 전달되었는가]:\n변론에서 주장한 내용과 그 근거가 명확하게 전달되었습니다. 인공지능 기술의 부정적 영향에 대한 우려와 함께 적절한 대응책을 강조하고 있으며, 이를 뒷받침하는 구체적인 예시나 이유가 잘 드러나 있습니다.\n\n[주장이 타당하고 객관적으로 보이는가]:\n변론은 주장과 반박을 근거와 함께 제시하여 타당하고 객관적으로 보입니다. 주장의 강도를 너무 과장하지 않고, 관련된 정보와 근거를 제공하여 신뢰성을 높였습니다.\n========================"


    # 입론에 대한 미적절한 반박
    "input:  교육비 부담의 정당성과 현실성에 대해 입론에서 제시한 논점을 반박하고자 합니다. 우선, 국가가 교육비를 부담하는 것이 부당하지 않다고 할 수 있습니다. 국가는 교육을 국민에게 제공함으로써 국민의 인권을 보장하고 국가의 경제 발전에 기여합니다. 따라서 국가가 교육비를 부담하는 것은 타당합니다. 또한, 국가가 교육비를 부담함으로써 사회적 안정을 유지할 수 있습니다. 교육은 개인 능력의 실현과 사회의 안정에 밀접한 관련이 있습니다. 따라서 국가가 교육비를 부담함으로써 사회적 안정을 유지하는 것은 합리적입니다.",
    "output: 입론에서의 주장과는 달리, 주제를 논의하기에 미적절한 반박입니다. 주장을 뒷받침하는 대신, 교육비 부담의 정당성과 현실성을 단순히 재확인하는 내용으로 보입니다. 따라서 이는 효과적인 반박이라고 볼 수 없습니다."
]
# few-shot 학습 적용
response = model.generate_content(few_shot_samples)





# 토론 평가 기준 정의
criteria_1 = "1. 용어 정의가 명확한가?\n2. 주장의 근거가 논리적이고 타당한가?\n3. 논거가 객관적이고 신뢰할 수 있는가?"

# 사용자로부터 찬성 및 반대측 의견 입력 받기
# pro_opinion = ver2()
pro_opinion = ("안녕하세요? 오늘의 주제인 ‘교육비, 국가가 부담해야 한다’의 부정측을 맡은 oooo팀 첫번재 토론자 ooo입니다."

+"철학자 헤겔은, 인류역사를 자유의식의 발전사라 했습니다. 그러나 저희는 인류역사를 교육의 발전사로 말하고 싶습니다. 왜냐하면 교육은 자유의식을 발전시킬 뿐 아니라 사회현실도 반영하기 때문입니다. 교육의 형태는 시대의 요구와 사회적인 필요성에 의해 변화되어 왔습니다. 사회가 농업사회에서 산업사회로, 산업사회에서 다시 현대의 지식 정보사회로 변해감에 따라, 교육체계는 달라져 왔고, 현대 사회에서의 교육은, 그 필요한 인재를 길러 내기 위해 다양성과 자율성을 요구받고 있습니다."

+"저희 oooo팀에서는 교육비를 국가가 전적으로 부담해서는 안된다고 생각합니다. 그 이유에 대해 저희는 크게 세 가지 근거를 들어 말씀드리겠습니다."

+"첫번째로 교육의 다양한 선택권 보장을 위해, 교육비를 국가가 전적으로 부담해서는 안됩니다."

+"현대에 필요한 교육은 과거처럼 국가주도의 획일화된 교육이 아니라, 다양한 선택권을 제공하는 교육입니다. 새로운 지식이 끊임없이 확대 재생산되고 여러 가치관이 공존하는 현대에서, 다양한 교육에 대한 요구는 점점 높아졌고, 이것은 대안 교육이나 특성화 교육에 대한 관심으로 나타나고 있습니다. 대표적 대안학교인 간디학교의 교과과정을 보면 세 개 이상 자립교과과목을 선택할 수 있게 하고 있고, 마은 개 이상의 특기적성 교과과정을 개설하였습니다. 또한 자립형 사립고인 해운대고는 국민공통기본과정에 더하여 보통교과의 일부를 전문 교과로 편성하여, 재량활동을 강화하고 있습니다. 이러한 대안교육과 특성화교육을 하기 위해서는, 국가가 전적으로 비용을 부담하는 체제가 아니라, 개인들의 교육비 부담을 통한 자율성 확립이 필요합니다. 그리고 현재도 그런 형태로 이루어지고 있습니다."

+"두번째로 교육비를 국가가 부담하는 것은, 교육에 있어 부작용을 가져올 수도 있습니다."

+"1970년대부터 대학 완전 무상교육을 해왔던 독일은, 다시 수업료를 도입하고 있습니다. 무상교육이 이루어진 후 독일에서는 대학생이 급증하여, 교원 1인당 학생 수가 과거 약 10명 이하에서 현재 약 35명까지 늘었습니다. 이는 곧 독일학생들이 과거와 같이, 교수님들과 개별적인 학문적 접촉을 할 수 있는 기회가 줄어들었음을 의미합니다. 뿐만 아니라 교육에 필요한 제반시설도 과거에 비해 상당히 부족해졌습니다. 이처럼 무상 교육은 각종 부작용을 나아 독일 대학의 교육여건을 악화시키는 요인으로 작용하고 있습니다."

+"마지막으로 한국의 국가 재정으로 볼 때, 국가가 현재보다 더 많은 교육비를 부담하는 것은, 현실적으로 굉장히 어려운 일입니다."

+"2004년 우리나라의 GDP대비 국가재정규모는 27.3%로, OECD 평균인 40.8%에 크게 못 미치고  OECD국가들 중, 작은 정부를 추구하는 미국의 재정규모 36%와 비교하여도, 훨씬 낮은 수준입니다. 이렇게 다른 국가에 비해 분명히 적은 재정규모에서도 2005년 우리 정부는 총 예산인 131조 5천억원의 약 5분의 1에 해당하는 25조 9400억원을 교육부 예산으로 책정하고 있습니다. 이것은 11조 1800억원을 투자하는 산업분야 지원보다 두 배나 많고, 27조 5천억우너을 투자하는 도로 항만 등의 사회 간접자본 투자와 비슷한 수치입니다."

+"결국 현재 우리나라의 국가 재정으로는, 교육비 부담을 더 이상 늘릴 수 없고, 교육비 부담만을 목표로 무리하게 세금을 올렸다가는 조세저항에 부딪치게 될 것입니다. 즉 교육이 개인에게는 미래를 위한 투자의 일부라고 하지만, 국가의 차원에서는 그것만을 위해 현재의 경제구조나 사회기반을 포기할 수 없기 때문입니다."

+"지금까지 저는 국가가 교육비를 부담해서는 안 되는 이유에 대해서 첫째 학교교육의 다양화, 두번째 교육에서 나타날 수 있는 부작용, 마지막으로 국가교육비 부담의 비현실성이라는 세 가지 근거를 들어 말씀드렸습니다."

+"감사합니다.")
# 찬성측 의견
pro_opinion = """
찬성 측 첫 번째 입론 시작하도록 하겠습니다. 저희 찬성 측은 고위공직자 범죄수사처를 반드시 설치해야 한다고 생각합니다.본격적인 논의에 앞서 단어를 정의하겠습니다. 저희 찬성 측이 의미하는 고위공직자범죄수사처, 이하 공수처는 일정 직위 이상의 고위 공직자와 그 가족에 대해 비리 수사를 전담하는 특별기구로 권력형 비리 척결과 함께 그간 수사지휘권과 기소권 등에 광범위한 형사사법의 사정 권한을 독점해 온 검찰 권력에 대한 견제를 핵심으로 하는 기관입니다.공수처 설치에 관한 논의는 꾸준히 있어왔습니다.먼저 얼마 전 있었던 양승태 전 대법원장의 사법 농단이 바로 공수처의 필요성을 나타내는 가장 적절한 예시라고 볼 수 있을 것 같습니다.양승태 전 대법원장은 국정원 부정 선거 재판, 강제징용, 피해자 재판 등에 개입하여 부정을 저지른 것은 물론
검찰 조직을 협박하기 위해 방안을 제시하는 등 국민과 사법계를 몰락하는 행보를 보였습니다.현 재판 진행 중인 양승태 사법농단은 2018년 4월의 대법원의 자체적인 조사인 사법행정권 남용 의혹을 통해 해결을 시도하였으나 대법원 내부 징계 절차 처리가 불가능했습니다.결국 18년 5월 28일 김명수 현 대법원장의 협조를 얻어낸 이후에야 양승태 전 대법원장의 사법행정권 남용 의혹 관련 근거 자료를 인계하고 공식적으로 수사를 진행할 수 있었습니다.이는 다시 말해 의로운 내부 협력자에게 원한 도움으로 운 좋게 수사가 진행되었다는 것입니다.만약 김영수 현 대법원장의 도움이 없었더라면 지금 재판을 시작하지도 못했을 가능성 역시 존재합니다.하지만 그럼에도 불구하고 핵심 정보가 담긴 us 수사 대응 자료, 원장, 팀장 보고 자료 등 수천 장의 파일을 증거물로 제시하였지만 영장이 번번이 기각되었습니다.
소위 말하는 증거 불충분이었습니다. 이렇게 다양하고 확실한 증거들이 있는데도 불구하고 말입니다.그 사이에 핵심 증거물인 하드디스크는 완전히 훼손돼 복구가 불가능해져 버렸고, 또 대법원은 증거를 공유하지 않는 등 수사 협의를 진행함에 난항을 겪었습니다.이는 제 식구 감싸기 전관예우가 단적으로 드러나는 일입니다.또 지난 30일 기소 4개월 만에 열린 첫 재판에서 공범으로 나온 박병대 고영한 전 대법관은 피고인으로 나온 재판임에도 불구하고 양 전 대법원장에게 송구하다, 죄송하다 등의 말을 한 것이 포착된 바 있습니다.이는 정관예요가 얼마나 깊게 뿌리박혀 있는지를 보여주는 단적인 예라고 할 수 있겠습니다.양승태 전 대법원장은 공판에서 모든 것은 근거가 없고 픽션 같은 이야기다라고 말하며 모든 혐의를 부정하고 있다고 합니다.
하지만 지금까지 아까 제가 말씀드린 바와 같이 USB를 포함해서 온갖 수천 개, 수천 수만 개의 증거 파일과 녹음본이 있음에도 불구하고 양승태 전 대법원장은 현재 자신의 혐의를 부정하고 있습니다.이렇듯 양승태 전 대법원장의 명백한 사법 농단에도 불구하고 그가 제대로 된 처벌을 받지 못하고 있는 이유는 현 권력 처장 내에 그를 제대로 공정하게 수사할 마땅한 기관이 없기 때문입니다.이러한 고위 공직자의 심각한 부정부패를 예방하고 처벌하기 위해서, 또 국민의 요구에 부합하기 위해 저희 찬성 측은 다시 한 번 공수처가 반드시 설치되어야 한다고 주장합니다.저희 찬성 측의 주장은 크게 총 세 가지입니다. 첫 번째 공수처는 수사처의 자율성을 확보하게 한다.두 번째 공수처는 현 검찰 제도의 허점을 보완할 수 있다.세 번째 공수처는 권력형 비리를 예방하며 큰 이익을 지닌다 세 가지입니다.
첫 번째 입론자가 첫 번째 주장을, 두 번째 입론자가 두 번째와 세 번째 주장을 말씀드리겠습니다.먼저 공수처는 수사처의 자율성 확보를 가능하게 합니다.공수처는 독립적인 기구이기에 3권의 정치적 간섭으로부터 비교적 자유롭게 수사를 진행할 수 있습니다.다시 말해 특정 부서만을 견제하는 것이 아니라 우리나라의 고위 관직자를 총망라해 부정부패를 타파할 수 있음을 의미합니다.공수처는 예산회계법상 국가정보원, 국가인권위원회와 같은 법률에 의거한 독립기구라는 의미입니다.또 법률안의 제2 제2장 5조에 따르면 국회의장은 추천위원회에 2명을 추천하고 이 추천위원회가 추천한 2명 중 1명을 대통령이 임명하는 공수처장 임명 과정은 결과적으로 행정부의 수장인 대통령이 장을 임명한다는 점에서 삼권분립에도 반하지 않습니다.즉 헌법에 반하지 않는다는 의미입니다. 즉 공수처는 자율성을 확보한 독립적인 기구로서 권력 비리 수사를 진행할 수 있다는 강점을 줍니다.
이는 제가 앞서 말씀드린 예시와 같이 기존 검찰 등의 중간 용 학습을 탈피할 수 있는 가장 확실한 방법입니다.이상으로 찬성 측 첫 번째 입문 마치도록 하겠습니다."""

# 반대측 의견
con_opinion = """저희는 고위공직자범죄수사처 설치에 반대하는 바입니다.먼저 고위공직자를 정의를 하면 상급 이상의 공무원과 검찰총장, 검사, 장성급, 장교, 경무관급 이상 경찰 공무원이 포함됩니다.고위공직자 가족 범위는 일반 고위공직자의 경우 배우자와 직계 존 비속이고, 대통령은 4촌 이내의 친척까지를 의미합니다.고위 공직자 범죄수사처는
고위 공직자를 대상으로 하여 범죄를 막기 위해 설치가 논의되고 있는 기관입니다.과연 고위공직자 범죄수사처가 정말 필요할까요?전혀 아닙니다. 먼저 고위공직자범죄수사처는 당장의 민심을 해결하기 위한 방안이며, 근본적인 원인을 전혀 바라보고 있지 못한 대책입니다.고위 공직자만을 대상으로 한 기관이기에 수사 대상이 명확하며 명분 또한 확실하여 초반에는 유의미한 결과를 얻어낼 수 있습니다.하지만 결국 고위공직자범죄수사처에서 일하게 될 사람들 역시 고위 공직자가 보기에 수사처의 원래 목적을 잘 이행할 수 있을까 의문이 생깁니다.또한 수사가 투명하게 이루어지고 국민들에게도 수사 내용이 공개될 것인가에 대한 의문이 남습니다.근본적으로 장기적인 관점에서 유의미한 변화를 기대하기란 어렵다는 뜻입니다.또한 대상을 고위 공직자로 한정한다는 점에서 정권의 칼로 부패할 수 있는 가능성이 크다는 문제가 있습니다.그렇기에 일시적인 회피성 문제 해결 방안이어서
큰 리스크를 가지기에 고위공직자범죄수사처 설치는 옳지 않습니다.오히려 검찰을 개혁시켜 국가 운영을 하는 편이 합리적이라고 생각합니다.만약에 그것도 아니라면 세계에서 가장 비리가 적은 덴마크처럼 다른 수사기관을 설치하지 않고 언론에 그 역할을 이양하여 특수분야 기사의 고발 기자를 양성하여 현 특검 제도를 강화하는 방식으로 진행 합리적입니다.특검이 1999년 설립된 이후 2019년 현재까지 총 13번 소환이 되었습니다.이는 일반 검사의 수사가 아닌 특검의 수사이기 때문에 고위 공직자의 비리를 수사한 것입니다.거의 1.5년에 한 번씩 공직자들의 비리 사건이 터졌고 그 이로써 특검이 자신의 역할을 잘 해내고 있다는 것을 알 수 있습니다.이럼에도 불구하고 고위공직자수사처를 설치해야 되는 이유에 대해선 의문이 생깁니다.또한 검찰에서 주장하는 고위공직자 수사처와 국회에서 주장하 대상이 다릅니다.검찰에서는 검찰 쪽에서 고위공직자수사처의 담당자를 뽑아서 임명하겠다고 하고 국회는
국회에서 임명하겠다고 합니다. 그리고 이 둘에는 공통점이 있는데 바로 기소권을 한정한다는 점입니다.우리가 고위 공직자 수사처를 설립하는 본질적인 목적을 시작부터 달성하지 못한다는 점입니다.한정된 기소권으로 국회의원과 대통령, 친인척, 정부 장차관 등은 고위공직자로서 저의 수사망을 벗어나게 되는 것입니다.마지막으로 불평등합니다. 몇몇 고위 공직자가 범죄를 저 부패하지 않는 고위공직자 또한 있을 것입니다.그러나 고위공직자 범죄수사처는 고위공직자는 부패했을 거라는 전제를 하기에
무죄 추정의 원칙을 어기고 있습니다. 고위 공직자라는 이유만으로 수사 대상으로 설치될 수 있다는 것이 가장 큰 문제입니다.고위공직자범죄수사처는 기존의 검찰이 독점하던 수사권을 일부 이양받으면서 검찰을 견제할 수가 있고, 고위공직자도 공정한 처벌이 이루어질 것을 시사한다는 점에서는 의미가 있습니다.하지만 앞서 말씀드린 바와 같이 본 나고 효율적이지 못한 잘못된 문제 정의에 따른 잘못된 해결 방안입니다.이에 저희 휴먼 토론은 이점보다 단점이 더 큰 방안이기에 설치에 반대합니다.
"""

# 찬성측 최종 변론
pro_final_argument = """
국가가 교육비를 부담해야 하는 이유는 교육이 국민의 기본적 권리이자 국가 발전을 위한 필수적인 요소임에 있습니다. 교육은 모든 국민에게 공평한 기회를 제공하고 사회적 경제적으로 안정적인 국가 건설에 기여합니다. 따라서 국가는 교육을 통해 모든 국민에게 공평한 기회와 지식을 제공하기 위해 적극적으로 투자해야 합니다.

또한 교육의 질을 유지하고 향상시키기 위해서는 국가가 적절한 예산을 할당해야 합니다. 국가가 교육비를 부담함으로써 교육 시스템의 효율성과 질을 유지할 수 있으며, 교육의 다양성과 혁신을 촉진할 수 있습니다. 이는 국가 경제의 발전과 국가의 경쟁력 강화에도 긍정적인 영향을 미칩니다.

또한 국가가 교육비를 부담하는 것은 사회적인 안정과 경제적인 발전을 위한 필수적인 조치입니다. 교육을 통해 능력 있는 인재를 양성하고 국민의 경제적, 사회적 능력을 향상시킬 수 있으며, 이는 사회의 안정과 국가의 발전에 중요한 역할을 합니다.

마지막으로 교육은 단순히 개인의 이익뿐만 아니라 국가와 사회의 이익을 위한 것입니다. 국가가 교육비를 부담함으로써 국민들의 인적 자본을 향상시키고 사회적 불평등을 줄일 수 있으며, 이는 국가 전반의 발전과 번영에 이바지할 것입니다. 지금 까지 찬성측의 최종 변론이였습니다. 감사합니다."""

# 반대측 최종 변론
con_final_argument = """
국가가 모든 교육비를 부담하는 것은 현실적으로 어려운 일입니다. 국가의 예산은 다양한 분야에 할당되어야 하며, 교육뿐만 아니라 기타 사회복지 및 경제 발전을 위한 예산이 필요합니다. 따라서 모든 교육비를 국가가 부담하는 것은 지나치게 비현실적인 요구일 수 있습니다.

또한 교육비를 국가가 전적으로 부담하는 것은 개인의 책임과 자유를 제한할 수 있습니다. 교육은 개인의 선택과 노력에 따라 결정되어야 하며, 개인이 일정 부분의 교육비를 부담함으로써 자율적인 의사결정이 보장되어야 합니다.

국가가 모든 교육비를 부담하는 것은 교육 시스템의 다양성과 질을 저하시킬 수 있습니다. 교육의 자율성과 다양성은 민간의 참여와 자율성을 통해 유지되어야 하며, 국가의 전적인 관리와 부담으로는 이를 달성하기 어려울 수 있습니다.

마지막으로 국가가 모든 교육비를 부담하는 것은 국가의 재정 상태와 경제적 여건에 따라 달라질 수 있는데, 이는 국가의 경제적 안정성과 지속 가능성을 고려할 때 중요한 요소입니다. 국가의 재정 부담이 지나치게 커지면 국가의 경제적 안정성을 위협할 수 있으며, 따라서 교육비 부담에 대한 적절한 분담과 협력이 필요합니다.

이러한 이유들을 종합해 볼 때, 국가가 모든 교육비를 부담하는 것은 현실적으로 어렵고, 개인의 자유와 교육의 질을 저하시킬 수 있습니다. 따라서 교육비 부담에 대한 책임의 분담과 협력이 필요하며, 국가만이 아닌 다양한 주체들 간의 협력이 필요하다는 것이 중요합니다.
"""



# 피드백 생성
pro_opinion_feedback = generate_feedback(pro_opinion, criteria, "입론")
con_opinion_feedback = generate_feedback(con_opinion, criteria, "입론")

pro_final_argument_feedback = generate_feedback(pro_final_argument, final_argument_criteria, "변론")
con_final_argument_feedback = generate_feedback(con_final_argument, final_argument_criteria,"변론")


# 생성된 피드백 출력
print("찬성측 피드백")
print(pro_opinion_feedback)

print("\n\n\n반대측 피드백")
print(con_opinion_feedback)


# # 생성된 피드백 출력
# print("\n\n\n찬성측 최종 변론에 대한 피드백:")
# print(pro_final_argument_feedback)
#
# print("\n\n\n반대측 최종 변론에 대한 피드백:")
# print(con_final_argument_feedback)